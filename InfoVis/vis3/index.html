<!DOCTYPE html>
<html>
<head>
  <!-- Group 14: Viz2 - > Distribution Weapon types used in attacks since 1970 -->  
  <meta http-equiv="content-type" content="text/html; charset=UTF8">
  <title>Weapon type Used</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/d3.v4.js"></script>
  <link rel="shortcut icon" type="image/x-icon" href="../assets/logo.png">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Quicksand:300,400,500,700"
  rel="stylesheet">
  <link href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css"
  rel="stylesheet">
  <!-- BEGIN VENDOR CSS-->
  <link rel="stylesheet" type="text/css" href="../app-assets/css/vendors.css">
  <!-- END VENDOR CSS-->
  
  <!-- BEGIN MODERN CSS-->
  <link rel="stylesheet" type="text/css" href="../app-assets/css/app.css">
  <!-- END MODERN CSS-->
  <!-- BEGIN Page Level CSS-->
  <link rel="stylesheet" type="text/css" href="../app-assets/css/core/menu/menu-types/vertical-content-menu.css">
  <link rel="stylesheet" type="text/css" href="../app-assets/css/core/colors/palette-gradient.css">
  <link rel="stylesheet" type="text/css" href="../app-assets/fonts/simple-line-icons/style.min.css">
  <!-- END Page Level CSS-->
  <!-- BEGIN Custom CSS-->
  <link rel="stylesheet" type="text/css" href="../hamburgers-master/dist/hamburgers.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/style.css">
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js"></script>



  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Quicksand:300,400,500,700"
  rel="stylesheet">
  <link href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css"
  rel="stylesheet">
  <!-- BEGIN VENDOR CSS-->
<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js"></script><!-- jquery link files -->

    <style>
        *{
            font-family: 'Roboto', sans-serif !important;
            
        }
        .graph{
          text-align: center;
          padding-top: 70px;
          color: #fff ;
        }
        .container {
            height: 80%;
            width: 100% ;
            margin-left: 20% ;
            
        }
    </style>
</head>
<body style="background:#252525; text-align: center;">
  <!-- NAVIGATION BAR -->
  <nav class="header-navbar navbar-expand-md navbar navbar-with-menu navbar-without-dd-arrow fixed-top navbar-hide-on-scroll navbar-brand-center" style="background-color: #252525;box-shadow: 0px 2px 30px 2px rgba(0, 0, 0, 0.1);">
    <div class="navbar-wrapper">
      <div class="navbar-container content">
        <div class="collapse navbar-collapse" id="navbar-mobile">
  
          <ul class="nav navbar-nav mr-auto float-left">
            <li class="nav-item smallllll"> 
              <a class="nav-link" href="../">   <img class="brand-logo" style="width:50px;height:40px;margin-left: 20px;" alt="InfoVis" src="../assets/logo.png">
                
              </a>
            </li><br><h2 style="margin-top: 10px;color:#ff8000;font-size:xx-large;font-weight: 900;">InfoVis Project</h2>
  
          </ul>
  
          <ul class="nav navbar-nav float-right">    
            <script type="text/javascript">
            $(document).ready(function()
            {
  
            $(".nav-link-all").on('mouseenter',function(){
              $(this).css({"background-color":"#009bea","border-radius":"5px","box-shadow":"0px 1px 20px 1px rgba(30, 159, 242, 0.6)"});
              $(this).children('span').css({"color":"#fff"});
              $(this).children('.nav-icon-all').css({"color":"#fff"});
            });
  
            $(".nav-link-all").on('mouseleave',function(){
              $(this).css({"background-color":"transparent","box-shadow":"none"});
              $(this).children('span').css({"color":"#009bea"});
            $(this).children('.nav-icon-all').css({"color":"#009bea"});
            });
  
            });
            </script>
            
            <li class="dropdown dropdown-user nav-item commonmobile">
              <a class="dropdown-toggle nav-link dropdown-user-link header-link nav-link-all" href="../index.html" style="padding-left: 15px;">
                <span class="mr-1 nav-text" style="font-weight: 450;">Home 
                </span>
              </a>
            </li>
  
            <!-- Workshop menu-->
            <li class="dropdown dropdown-user nav-item commonmobile">
              <a class="dropdown-toggle nav-link dropdown-user-link header-link nav-link-all" href="../vis1/"  style="padding-left: 15px;">
                <span class="mr-1 nav-text" style="font-weight: 450;">Visualization 1 
                </span>
              </a>
            </li>
  
  
            <li class="dropdown dropdown-user nav-item commonmobile">
              <a class="dropdown-toggle nav-link dropdown-user-link header-link nav-link-all" href="../vis2/"  style="padding-left: 15px;">
                <span class="mr-1 nav-text" style="font-weight: 450;">Visualization 2
                </span>
              </a>
            </li>

            <li class="dropdown dropdown-user nav-item commonmobile">
                <a class="dropdown-toggle nav-link dropdown-user-link header-link " href="#"  style="padding-left: 15px;background-color: #009bea; border-radius: 5px; box-shadow: 0px 1px 20px 1px rgba(30, 159, 242, 0.6);">
                    <span class="mr-1 nav-text" style="font-weight: 450;color: #fff;">Visualization 3
                    </span>
                </a>
            </li>
            
            <li class="dropdown dropdown-user nav-item commonmobile">
                <a class="dropdown-toggle nav-link dropdown-user-link header-link nav-link-all" href="../vis4/"  style="padding-left: 15px;">
                    <span class="mr-1 nav-text" style="font-weight: 450;">Visualization 4
                    </span>
                </a>
            </li>
    
            <li class="dropdown dropdown-user nav-item commonmobile">
                <a class="dropdown-toggle nav-link dropdown-user-link header-link nav-link-all" href="../vis5/"  style="padding-left: 15px;">
                    <span class="mr-1 nav-text" style="font-weight: 450;">Visualization 5
                    </span>
                </a>
            </li>

            <li class="dropdown dropdown-user nav-item commonmobile">
                <a class="dropdown-toggle nav-link dropdown-user-link header-link nav-link-all" href="../vis6/"  style="padding-left: 15px;">
                    <span class="mr-1 nav-text" style="font-weight: 450;">Visualization 6
                    </span>
                </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>




  <!-- END OF NAVIGATION BAR -->


<div class="graph">
        <h2 style="color:#FFFF00;text-align:center">Frequency of Weapon types Used</h2>
        <p style="color:#aaaaaa;text-align:center">
            Double click or scroll to zoom | Click and drag to move bubbles | Hover over the bubbles.
        </p>
  
</div>
<div class="trans-fore" id="toolbox" style = "position:absolute;bottom: 10%;left: 1%;background: #009bea;color: #ffffff;padding: 10px ;border-radius: 4px;font-weight: bold;border: 4px solid #009bea;font-size: xx-large;">
    <div id="tooltip">Weapon : frequency</div>
</div>
<div class="container" id="dataviz_basicZoom"></div>
<script type="text/javascript">

    //Load the data obtained from pre-processing
    dataset = {
        "children": [{"Name": "Explosives", "Count": 96407},
            {"Name":"Incendiary","Count":11791},
            {"Name":"Firearms","Count":61885},
            {"Name":"Chemical","Count":336},
            {"Name":"Melee","Count":3905},
            {"Name":"Sabotage Equpment","Count":158},
            {"Name":"Vehicle","Count":153},
            {"Name":"Fake Weapons","Count":33},
            {"Name":"Radiological","Count":13},
            {"Name":"Other","Count":127},
            {"Name":"Biological","Count":35}]
           // {"Name":"Unknown","Count":16621}]
    };

    //Define Color Scheme
    var diameter = 750;
    var color = d3.scaleOrdinal(d3.schemeCategory20);

    //Size range of Bubble
    var bubble = d3.pack(dataset)
        .size([diameter, diameter])
        .padding(1.5);

    //Fetch the Div for SVG and add bubbles
    var svg = d3.select("#dataviz_basicZoom")
        .append("svg")
        .data([dataset])
        .attr("width", diameter)
        .attr("height", diameter)
        .attr("class", "bubble")
        .call(d3.zoom().on("zoom", function () {
            svg.attr("transform", d3.event.transform)
        }))
        .append("g");

    //Set the Hierarchy and size of bubbles relatively
    var nodes = d3.hierarchy(dataset)
        .sum(function(d) { return d.Count; });

    //Set the position of bubbles
    var node = svg.selectAll(".node")
    .data(bubble(nodes).descendants())
    .enter()
    .filter(function(d){
        return  !d.children
    })
    .append("g")
    .attr("class", "node")
    .attr("transform", function(d) {
        return "translate(" + d.x + "," + d.y + ")";
    });

//Set the tooltip text on hover
node.append("title")
    .text(function(d) {
        return d.data.Name + ": " + d.data.Count;
    });

    //draw bubble and fill the color
    node.append("circle")
        .attr("r", function(d) {
            return d.r;
        })
        .style("fill", function(d,i) {
            return color(i);
        });

    //Set the Text on the bubble
    node.append("text")
        .attr("dy", ".2em")
        .style("text-anchor", "middle")
        .text(function(d) {
            return d.data.Name.substring(0, d.r / 3);
        })
        .attr("font-family", "sans-serif")
        .attr("font-size", function(d){
            return d.r/5;
        })
        .attr("fill", "white");

    node.append("text")
        .attr("dy", "1.3em")
        .style("text-anchor", "middle")
        .text(function(d) {
            return d.data.Count;
        })
        .attr("font-family",  "Gill Sans", "Gill Sans MT")
        .attr("font-size", function(d){
            return d.r/5;
        })
        .attr("fill", "white");

    d3.select(self.frameElement)
        .style("height", diameter + "px");
        
    var tooltip = d3.select('#toolbox');

    // Update the tooltip(here toolbox :) on the left hand side chart when mouse hovers
    node.on('mouseenter', function(d,i) {
        d3.selectAll("#tooltip").each(function() {
        d3.select(this).text(d.data.Name+' : '+d.data.Count);
        });
        tooltip.style("background", color(i));
        tooltip.style("border", color(i));    
    })
        .on('mouseleave', hideTip) ;


        //function for tooltip update
        function showTip(d) {
        d3.selectAll("#tooltip").each(function() {
        d3.select(this).text(d[0]);
        });
        console.log('');
    }

    //when mouse leaves the bubble area OPTIONAL
    function hideTip(d) {
        
      console.log(d.data.Name+'yo') ;
    }


</script>

  <!-- BEGIN VENDOR JS-->
  <script src="../app-assets/vendors/js/vendors.min.js" type="text/javascript"></script>
  <!-- BEGIN VENDOR JS-->

</body>
</html>
